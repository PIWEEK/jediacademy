<html>
    <head>
      <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
      <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>


      <script src="https://unpkg.com/aframe-aabb-collider-component/dist/aframe-aabb-collider-component.min.js"></script>
      <script src="https://unpkg.com/aframe-look-at-component@0.5.1/dist/aframe-look-at-component.min.js"></script>

      <script src="components/floating-lightsaber.js"></script>
      <script src="components/single-lightsaber.js"></script>
      <script src="components/dual-lightsaber.js"></script>
      <script src="components/assault-rifle.js"></script>
      <script src="components/training-robot.js"></script>
      <script src="components/destroy-mini-robots.js"></script>
      <script src="components/shooter.js"></script>
      <script src="components/menuselector.js"></script>
      <script src="components/ls-selector.js"></script>
      <script src="components/forcehand.js"></script>
      <script src="components/hud.js"></script>

      <script src="components/jediacademy.js"></script>
    </head>
    <body>
      <a-scene id ="jediacademy" jediacademy>
            <a-assets>
                <a-asset-item id="ls-hilt-obj" src="model/lightsaber.obj"></a-asset-item>
                <a-asset-item id="ls-hilt-mtl" src="model/lightsaber.mtl"></a-asset-item>

                <a-asset-item id="ls-hilt-dual-obj" src="model/dual-lightsaber.obj"></a-asset-item>
                <a-asset-item id="ls-hilt-dual-mtl" src="model/dual-lightsaber.mtl"></a-asset-item>

                <a-asset-item id="training-robot-dae" src="model/training-robot-2.dae"></a-asset-item>
                <a-asset-item id="assault-rifle-dae" src="model/assault-rifle.dae"></a-asset-item>

                <img id="portada1-img" src="img/portada1.png" crossorigin="anonymous" />
                <img id="portada2-img" src="img/portada2.png" crossorigin="anonymous" />
                <img id="portada3-img" src="img/portada3.png" crossorigin="anonymous" />

                <img id="single-ls-img" src="img/single-ls.png" crossorigin="anonymous" />
                <img id="two-ls-img" src="img/two-ls.png" crossorigin="anonymous" />
                <img id="dual-ls-img" src="img/dual-ls.png" crossorigin="anonymous" />
                <img id="assault-rifle-img" src="img/assault-rifle.png" crossorigin="anonymous" />
            </a-assets>


            <!-- Player lightsabers -->
            <a-entity id="single-lightsaber-blade-1" position="0 -100 -20" geometry="primitive: cylinder; radius: 0.01; height: 0;" aabb-collider="objects: .collideable"></a-entity>
            <a-entity id="single-lightsaber-blade-2" position="0 -100 -20" geometry="primitive: cylinder; radius: 0.01; height: 0;" aabb-collider="objects: .collideable"></a-entity>
            <a-entity id="dual-lightsaber-blade" position="0 -100 -20" geometry="primitive: cylinder; radius: 0.01; height: 0;" aabb-collider="objects: .collideable"></a-entity>
            <a-entity id="assault-rifle-laser" position="0 -100 -20" geometry="primitive: cylinder; radius: 0.003; height: 0;" aabb-collider="objects: .collideable"></a-entity>

            <a-entity id="leftHand" hand-controls="left" forcehand aabb-collider="objects: .ls-selector-collideable"></a-entity>
            <a-entity id="rightHand" hand-controls="right" forcehand aabb-collider="objects: .ls-selector-collideable"></a-entity>

            <a-entity id="player-single-ls-1" single-lightsaber="color:blue; target: #rightHand; blade: #single-lightsaber-blade-1; left: false"></a-entity>
            <a-entity id="player-single-ls-2" single-lightsaber="color:blue; target: #leftHand; blade: #single-lightsaber-blade-2; left: true"></a-entity>
            <a-entity id="player-dual-ls" dual-lightsaber="color:green; target: #rightHand"></a-entity>
            <a-entity id="player-assault-rifle" assault-rifle="color:green; target: #rightHand"></a-entity>


            <!-- LS SELECTOR -->
            <a-entity id="menuLsSingle" ls-selector="photo: #single-ls-img; lightsaber: 0" position="-0.3 1 -1" rotation="-45 0 0"></a-entity>
            <a-entity id="menuLsTwo" ls-selector="photo: #two-ls-img; lightsaber: 1" position="-0.1 1 -1" rotation="-45 0 0"></a-entity>
            <a-entity id="menuLsDual" ls-selector="photo: #dual-ls-img; lightsaber: 2" position="0.1 1 -1" rotation="-45 0 0"></a-entity>
            <a-entity id="menuAssaultRifle" ls-selector="photo: #assault-rifle-img; lightsaber: 3" position="0.3 1 -1" rotation="-45 0 0"></a-entity>


            <!-- ENEMIES / minigames -->
            <a-entity id="floatingLsGame" floating-lightsaber="color: red; speed: 0.4; target: #camera" position="0 -100 -20"></a-entity>
            <a-entity id="trainingRobotGame" training-robot="color: red; speed: 1; target: #camera" position="0 -100 -20"></a-entity>
            <a-entity id="destroyMiniRobotsGame" destroy-mini-robots="speed: 0; target: #camera" position="0 -100 -20"></a-entity>
            <a-entity id="shooterGame" shooter="speed: 0; target: #camera" position="0 -100 -20"></a-entity>





            <!-- MENU -->
            <a-entity id="menuFloatingLs" menu-selector="photo: #portada1-img; minigame: #floatingLsGame" position="-0.7 1 -2"></a-entity>

            <a-entity id="menuTrainingRobot" menu-selector="photo: #portada2-img; minigame: #trainingRobotGame" position="0 1 -2"></a-entity>

            <a-entity id="menuDestroyMiniRobots" menu-selector="photo: #portada3-img; minigame: #destroyMiniRobotsGame" position="0.7 1 -2"></a-entity>

            <!--a-plane color="#CCC" height="1" width="1" position="0 1.5 -2"></a-plane-->




            <a-entity id="camera" camera look-controls wasd-controls position="0 0 0">
                <a-entity id="player-body" geometry="primitive: box; height: 1.6; width: 0.2; depth:0.2" position="0 -0.6 0"
                material="opacity: 1" aabb-collider="objects: .collideable"></a-entity>
            </a-entity>


            <a-text id="hud" hud position="-0.5 2 -2" value="jedi academy" color="#ffe81f" font="font/starJedi.fnt"></a-text>







            <a-entity environment="preset: yavapai; numDressing: 500"></a-entity>


            <!-- Preload -->
            <a-collada-model id="training-robot" src="#training-robot-dae" scale="0.5 0.5 0.5" visible="false" look-at="[camera]"></a-collada-model>
            <a-collada-model id="assault-rifle" src="#assault-rifle-dae" scale="0.1 0.1 0.1" visible="false"></a-collada-model>



      </a-scene>
    </body>
  </html>